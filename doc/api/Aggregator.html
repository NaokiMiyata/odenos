<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01//EN' 'http://www.w3.org/TR/html4/strict.dtd'>
<html>
<head>
<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
<link rel='stylesheet' href='markdown_ODENOS.css' type='text/css' />
<title>Aggregator.md</title>
</head>
<body>
<h2>Aggregator</h2>
<p>Aggregator provides the ability to create aggregated Network in a single Node that consolidates the original network topology.</p>
<hr />
<p><img src="./images/Aggregator.jpg"></p>
<h3>Operating specifications of the Aggregator.</h3>
<ul>
<li>
<p><strong>Topology</strong><br />
 Aggregated Network in a single Node that consolidates the original network Topology.<br />
 Original network topology is composed of a single connected component.
 If more than one connected component exists, node of the  aggregated Network is &quot;oper_status&quot;:&quot;down&quot;.<br />
 Unconnected port is replicated to the aggregated network.
 Aggregator holds the correspondence between the topology, and performs the synchronization processing when there is a change.</p>
</li>
<li>
<p><strong>Flows</strong><br />
 Creates original flow(shortest path) from aggregated flow(Point-to-Point)   
</p>
</li>
<li>
<p><strong>Packets</strong><br />
 InPackets from the Unconnected port to transfer from the original network to the aggregated network.<br />
 OutPackets from the Unconnected port to transfer from the aggregated network to the original network.  
</p>
</li>
<li>
<p><strong>Create Instance of Aggregator.</strong><br />
  Generate an instance of Aggregator by performing a PUT (or POST) to the System Manager.</p>
</li>
</ul>
<p><a href="./SystemManager.html#PUTcomponents_id">PUT &lt;base_uri&gt;/components/&lt;comp_id&gt;</a></p>
<table>
<thead>
<tr>
	<th><strong>key</strong></th>
	<th><strong>value</strong></th>
	<th><strong>description</strong></th>
</tr>
</thead>
<tbody>
<tr>
	<td>id</td>
	<td>&lt;String&gt;</td>
	<td>Unique Identifier in ODENOS.</td>
</tr>
<tr>
	<td>type</td>
	<td>&quot;Aggregator&quot;</td>
	<td>ObjectType</td>
</tr>
<tr>
	<td>cm_id</td>
	<td>&lt;String&gt;</td>
	<td>Specify the <a href="./DataClass.html#ObjectProperty">componentManager.Property.id</a> to generate an instance. (Optional)</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Component Connections</strong><br />
  Connection of Aggregator and Network by performing a PUT (or POST) to the System Manager.</li>
</ul>
<table>
<thead>
<tr>
	<th>network</th>
	<th>Connection possible number</th>
	<th>connection_type</th>
</tr>
</thead>
<tbody>
<tr>
	<td>original network</td>
	<td>Only one</td>
	<td>&quot;original&quot;</td>
</tr>
<tr>
	<td>aggregated network</td>
	<td>Only one</td>
	<td>&quot;aggregated&quot;</td>
</tr>
</tbody>
</table>
<p><a href="./SystemManager.html#PUTconnections_id">PUT &lt;base_uri&gt;/connections/&lt;conn_id&gt;</a></p>
<table>
<thead>
<tr>
	<th><strong>key</strong></th>
	<th><strong>value</strong></th>
	<th><strong>description</strong></th>
</tr>
</thead>
<tbody>
<tr>
	<td>id</td>
	<td>&lt;String&gt;</td>
	<td>Unique Identifier in ODENOS.</td>
</tr>
<tr>
	<td>type</td>
	<td>&quot;LogicAndNetwork&quot;</td>
	<td>&nbsp;</td>
</tr>
<tr>
	<td>connection_type</td>
	<td>&quot;original&quot; or  &quot;aggregated&quot;</td>
	<td></td>
</tr>
<tr>
	<td>state</td>
	<td>none</td>
	<td>default &quot;initializing&quot;</td>
</tr>
<tr>
	<td>logic_id</td>
	<td>&lt;String&gt;</td>
	<td>aggregator ID</td>
</tr>
<tr>
	<td>network_id</td>
	<td>&lt;String&gt;</td>
	<td>Network ID</td>
</tr>
</tbody>
</table>
<hr />
<h3>REST APIs</h3>
<ul>
<li><a href="#GETproperty">GET &lt;base_uri&gt;/property</a></li>
<li><a href="#PUTproperty">PUT &lt;base_uri&gt;/property</a></li>
<li><a href="#GETaggregated_nw_port">GET &lt;base_uri&gt;/aggregated_nw_port</a></li>
<li><a href="#GEToriginal_nw_port">GET &lt;base_uri&gt;/original_nw_port</a></li>
<li><a href="#GETaggregated_nw_flow">GET &lt;base_uri&gt;/aggregated_nw_flow</a></li>
<li><a href="#GEToriginal_nw_flow">GET &lt;base_uri&gt;/original_nw_flow</a></li>
</ul>
<hr />
<h4><a name="GETproperty"> GET &lt;base_uri&gt;/property</a></h4>
<ul>
<li><strong>get Object property.</strong></li>
</ul>
<h5>[Request]:</h5>
<ul>
<li><strong>Body</strong> : none </li>
</ul>
<h5>[Response]:</h5>
<ul>
<li><strong>Status Code</strong> : 200</li>
<li><strong>Body</strong> :  <a href="./DataClass.html#ObjectProperty">ObjectProperty</a></li>
</ul>
<hr />
<h4><a name="PUTproperty"> PUT &lt;base_uri&gt;/property</a></h4>
<ul>
<li><strong>update Object property.</strong></li>
</ul>
<h5>[Request]:</h5>
<ul>
<li><strong>Body</strong> :  <a href="./DataClass.html#ObjectProperty">ObjectProperty</a></li>
</ul>
<h5>[Response]:</h5>
<ul>
<li><strong>Status Code</strong> : 200</li>
<li><strong>Body</strong> :  <a href="./DataClass.html#ObjectProperty">ObjectProperty</a></li>
</ul>
<hr />
<h4><a name="GETaggregated_nw_port"> GET &lt;base_uri&gt;/aggregated_nw_port</a></h4>
<p><strong>Get relationship of the aggregated port id and original port id.</strong>
(Key is  original)</p>
<ul>
<li><strong>get Object settings info.</strong></li>
</ul>
<h5>[Request]:</h5>
<ul>
<li><strong>Body</strong> : none </li>
</ul>
<h5>[Response]:</h5>
<ul>
<li><strong>Status Code</strong> : 200</li>
<li><strong>Body</strong> : dict&lt;original_node_id::original_port_id, (aggregated_node_id, aggregated_port_id)&gt;</li>
</ul>
<hr />
<h4><a name="GEToriginal_nw_port">GET &lt;base_uri&gt;/original_nw_port</a></h4>
<p><strong>Get relationship of the aggregated port id and original port id.</strong>
(Key is aggregated)</p>
<h5>[Request]:</h5>
<ul>
<li><strong>Body</strong> : none </li>
</ul>
<h5>[Response]:</h5>
<ul>
<li><strong>Status Code</strong> : 200</li>
<li><strong>Body</strong> : dict&lt;aggregated_node_id::aggregated_port_id, (original_node_id, original_port_id)&gt;</li>
</ul>
<hr />
<h4><a name="GETaggregated_nw_flow">GET &lt;base_uri&gt;/aggregated_nw_flow</a></h4>
<p><strong>Get relationship of the aggregated flow id and original flow id.</strong>
(Key is  original)</p>
<h5>[Request]:</h5>
<ul>
<li><strong>Body</strong> : none </li>
</ul>
<h5>[Response]:</h5>
<ul>
<li><strong>Status Code</strong> : 200</li>
<li><strong>Body</strong> : dict&lt;original_flow_id, aggregated_flow_id&gt;</li>
</ul>
<hr />
<h4><a name="GEToriginal_nw_flow">GET &lt;base_uri&gt;/original_nw_flow</a></h4>
<p><strong>Get relationship of the aggregated flow id and original flow id.</strong>
(Key is  aggregated)</p>
<h5>[Request]:</h5>
<ul>
<li><strong>Body</strong> : none </li>
</ul>
<h5>[Response]:</h5>
<ul>
<li><strong>Status Code</strong> : 200</li>
<li><strong>Body</strong> : dict&lt;aggregated_flow_id, original_flow_id&gt;</li>
</ul>
</body>
</html>